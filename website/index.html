<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="refresh" content="5">
    <title>Portail</title>
    <style>
        body {
            background-color: whitesmoke;
            width: fit-content;
            margin: auto;
            font-family: Arial, Helvetica, sans-serif;
        }
        div {
            border-style: solid;
            padding: 3px;
        }
        .btn {
            margin: 2px;
            padding: 5px;
            font-size: 15px;
        }
        h2{ margin: 0px; }
        h3{ margin: 0; }
        .couleurImportant{ color: crimson; }
        .couleurInfo{ color: darkblue; }
        .debug{padding: 2px;}
    </style>
</head>
<body>
    <div>
        <a href="/debug">Debug</a>
        <table>
            <tbody>
                <tr>
                    <td><h2>Infos:</h2></td>
                </tr>
                <tr>
                    <td>Date</td>
                    <td>%DATE%</td>
                </tr>
                <tr>
                    <td>Heure:</td>
                    <td>%HEURE%</td>
                </tr>
                <tr>
                    <td class="couleurImportant"><b>Cycle en cours:</b></td>
                    <td class="couleurImportant"><b>%CYCLE%</b></td>
                </tr>
                <tr>
                    <td class="couleurImportant"><b>Ouverture Forcee:</b></td>
                    <td class="couleurImportant"><b>%FORCE%</b></td>
                </tr>
                <tr>
                    <td>Presence du secteur:</td>
                    <td>%PRESENCE_SECTEUR%</td>
                </tr>
                <tr>
                    <td>Tension Batterie:</td>
                    <td>%VBAT%</td>
                </tr>
                <tr>
                    <td>Derniere coupure secteur:</td>
                    <td>%DATE_COUPURE%</td>
                </tr>
                <tr>
                    <td>Derniere presence secteur:</td>
                    <td>%DATE_PRESENCE%</td>
                </tr>
                <tr>
                    <td>Dernier cycle Jour:</td>
                    <td>%DATE_CYCLE_JOUR%</td>
                </tr>
                <tr>
                    <td>Dernier cycle Nuit:</td>
                    <td>%DATE_CYCLE_NUIT%</td>
                </tr>
            </tbody>
        </table>
    </div>
    <br>
    <div>
        <h2>Controles</h2>
        <form name="publish">
            <label>Heure d'hiver: </label>
            <input class="btn" id="heureHiver" type="checkbox" onclick="sendJson(1)"><br>

            <label>Synchroniser l'heure interne avec internet: </label>
            <input class="btn" id="syncBtn" type="button" value="Sync" onclick="sendJson(2)"><br>

            <label class="couleurInfo"><b>Ouverture forcée :</b></label>
            <input class="btn" type="button" value="On/Off" onclick="sendJson(3)"><br>

            <label class="couleurInfo"><b>Ouverture normale: </b></label>
            <input class="btn" type="button" value="Valider" onclick="sendJson(4)"><br>
        </form>

        <h2>Plage Horaire Jour</h2>
        <form name="horaire">
            <label>Debut: </label>
            <input id="horaireMatin" type="time" oninput="sendJson(5)">
            <label>Fin: </label>
            <input id="horaireNuit" type="time" oninput="sendJson(6)"><br>
        </form>

        <h2>Ouverture forcée</h2>
        <table>
            <tbody>
                <tr>
                    <td>Derniere ouverture forcée: <span id="dateForce"></span></td>
                </tr>
                <tr>
                    <td>Compteur avant ouverture forcée: <span id="cmpAvantForce"></span>/<span id="seuilAvantForce"></span></td>
                </tr>
                <tr>
                    <td>
                        <input class="btn" type="button" value="Reset Compteur" onclick="sendJson(9)">
                        <input class="btn" type="button" value="Seuil -1" onclick="sendJson(7)">
                        <input class="btn" type="button" value="Seuil +1" onclick="sendJson(8)">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <br>
    <div>
        <h2>Compteurs (d'ouvertures)</h2>
        <table>
            <tbody>
                <tr>
                    <td><h3>Journalier: </h3></td>
                    <td>Jour:</td>
                    <td id="cmpJournalierJour"></td>
                    <td><pre>    </pre></td>
                    <td>Nuit:</td>
                    <td id="cmpJournalierNuit"></td>
                </tr>

                <tr>
                    <td><h3>Principal: </h3></td>
                    <td>Jour:</td>
                    <td id="cmpOuverturesJour"></td>
                    <td></td>
                    <td>Nuit:</td>
                    <td id="cmpOuverturesNuit"></td>
                    <td><pre>    </pre></td>
                    <td><input class="btn" type="button" value="Reset" onclick="sendJson(11)"></td>
                </tr>

                <tr>
                    <td><h3>Auxiliaire: </h3></td>
                    <td>Jour:</td>
                    <td id="cmpAuxOuverturesJour"></td>
                    <td></td>
                    <td>Nuit:</td>
                    <td id="cmpAuxOuverturesNuit"></td>
                    <td></td>
                    <td><input class="btn" type="button" value="Reset" onclick="sendJson(12)"></td>
                </tr>

                <tr>
                    <td><h3>Coupures secteur:</h3></td>
                    <td><span id="cmpCoupures"></span></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input class="btn" type="button" value="Reset" onclick="sendJson(13)"></td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
<br>
</html>